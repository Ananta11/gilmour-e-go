language: go

go:
  - tip

services:
  - redis-server

before_install:
  - mkdir -p $GOPATH/src/gopkg.in/gilmour-libs/gilmour-e-go.v5
  - ln -s $(pwd)/ui $GOPATH/src/gopkg.in/gilmour-libs/gilmour-e-go.v5/ui
  - ln -s $(pwd)/proto $GOPATH/src/gopkg.in/gilmour-libs/gilmour-e-go.v5/proto
  - ln -s $(pwd)/backends $GOPATH/src/gopkg.in/gilmour-libs/gilmour-e-go.v5/backends

script:
  - go test -v --race ./...
  - go build -v --race ./...

notifications:
  email:
    - piyush@piyushverma.net
